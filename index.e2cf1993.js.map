{"mappings":"YAEO,ICICA,EAIFC,EDROC,EAAW,CACpBC,OAASC,SAASC,cAAc,iBAChCC,QAAUF,SAASC,cAAc,aACjCE,OAAQH,SAASC,cAAc,WAC/BG,MAAQJ,SAASC,cAAc,WC8BnC,SAASI,EAAgBC,GAIvB,OAHAR,EAASI,QAAQK,UAAY,GAC7BT,EAASK,OAAOK,UAAUC,QAAQ,gBAAiB,UACnDX,EAASM,MAAMI,UAAUC,QAAQ,QAAS,gBACnCC,MACL,wDAAgEC,OAARL,EAAQ,mFAE/DM,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBL,MAAK,SAAAM,GAUV,IAAsBC,EAEdC,EACAC,EACAC,EACAC,EAEAC,EALAJ,GAFcD,EATHD,GAWD,GAAGE,IACbC,EAAcF,EAAI,GAAGM,OAAO,GAAGJ,YAC/BC,EAAOH,EAAI,GAAGM,OAAO,GAAGH,KACxBC,EAAcJ,EAAI,GAAGM,OAAO,GAAGF,YAE/BC,EAAS,aAA0Bb,OAAbS,EAAI,WACcT,OADLW,EAAK,sDAEGX,OADHW,EAAK,4DAE5BX,OAD0BY,EAAY,iCAC1BZ,OAAZU,EAAY,cAEnCvB,EAASI,QAAQwB,mBAAmB,YAAaF,GApB7C1B,EAASK,OAAOK,UAAUC,QAAQ,SAAU,gB,IAE7CkB,OAAM,SAAAC,GACL9B,EAASI,QAAQK,UAAY,GAC7BT,EAASM,MAAMI,UAAUC,QAAQ,eAAgB,Q,ID9CvDX,EAASC,OAAO8B,iBAAiB,UAEjC,SAA4BC,GAG1BzB,EAFgByB,EAAIC,OAAOC,M,ICNrBpC,EAAS,IAAIqC,gBAAgB,CACjC,YAFA,0EAKEpC,EAAe,GAGZa,MAAM,GAAcC,OAVV,gCAUuBA,OAJtB,UAImB,KAAUA,OAAPf,IACrCgB,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBL,MAAK,SAAAM,GACJrB,EAAeqB,EACf,IAAK,IAAIgB,EAAI,EAAGA,EAAIrC,EAAasC,OAAQD,IAAK,CAC5C,IAAIE,EAAQvC,EAAaqC,GACrBG,EAASrC,SAASsC,cAAc,UACpCD,EAAOL,MAAQI,EAAMG,GACrBF,EAAO9B,UAAY,GAAcI,OAAXyB,EAAMd,MAC5BxB,EAASC,OAAOyC,YAAYH,GAC5BvC,EAASK,OAAOK,UAAUC,QAAQ,SAAU,gB,KAG/CkB,OAAM,SAAAC,GACL9B,EAASM,MAAMI,UAAUC,QAAQ,eAAgB,Q","sources":["src/js/index.js","src/js/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nexport const elements = {\n    select : document.querySelector('.breed-select'),\n    catInfo : document.querySelector('.cat-info'),\n    loader: document.querySelector(\".loader\"),\n    error : document.querySelector(\".error\")\n};\n// elements.error.classList.add(\"error-hidden\");\nelements.select.addEventListener('change', hendlerChooseBreed);\n\nfunction hendlerChooseBreed(evt) {\n  let idOfBreed = evt.target.value;\n  \n  fetchCatByBreed(idOfBreed);\n}\n\nfetchBreeds();\n","import { elements } from './index';\n\nfunction fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1';\n  const API_KEY =\n    'live_Uedqd6mbrG08P2XhhOIDv14LHePtwKtKeKFm0DZ3BIclh3nQNBQNI9f5J7S8R8eR';\n  const params = new URLSearchParams({\n    'x-api-key': API_KEY,\n  });\n  const END_POINT = '/breeds';\n  let storedBreeds = [];\n  // elements.loader.classList.replace(\"loader-hidden\", \"loader\");\n  // elements.error.classList.replace(\"error\", \"error-hidden\");\n  return fetch(`${BASE_URL}${END_POINT}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      storedBreeds = data;\n      for (let i = 0; i < storedBreeds.length; i++) {\n        let breed = storedBreeds[i];\n        let option = document.createElement('option');\n        option.value = breed.id;\n        option.innerHTML = `${breed.name}`;\n        elements.select.appendChild(option);\n        elements.loader.classList.replace(\"loader\", \"loader-hidden\");\n      }\n    })\n    .catch(err => {\n      elements.error.classList.replace(\"error-hidden\", \"error\")\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  elements.catInfo.innerHTML = '';\n  elements.loader.classList.replace(\"loader-hidden\", \"loader\");\n  elements.error.classList.replace(\"error\", \"error-hidden\");\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=live_Uedqd6mbrG08P2XhhOIDv14LHePtwKtKeKFm0DZ3BIclh3nQNBQNI9f5J7S8R8eR`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      createMarkUp(data);\n      elements.loader.classList.replace(\"loader\", \"loader-hidden\");\n    })\n    .catch(err => {\n      elements.catInfo.innerHTML = '';\n      elements.error.classList.replace(\"error-hidden\", \"error\")\n    });\n}\n\nfunction createMarkUp(arr) {\n  \n  const url = arr[0].url;\n  const description = arr[0].breeds[0].description;\n  const name = arr[0].breeds[0].name;\n  const temperament = arr[0].breeds[0].temperament;\n  // const {description, name, temperament} = arr[0].breed[0];\n  const markup = `<img src=\"${url}\" alt=\"${name}\">\n  <div class=\"text-info\"><h2 class=\"cat-name\">${name}</h2>\n  <p class=\"cat-discr\"><span>Temperament:</span> ${temperament}</p>\n  <p class=\"cat-discr\">${description}</p></div>`;\n\n  elements.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n"],"names":["params","storedBreeds","$44ae6d9db4eaca0f$export$7a5d735b2ab6389d","select","document","querySelector","catInfo","loader","error","$8994e83c1b13b9e2$export$57b7d3a597416aa2","breedId","innerHTML","classList","replace","fetch","concat","then","response","ok","Error","status","json","data","arr","url","description","name","temperament","markup","breeds","insertAdjacentHTML","catch","err","addEventListener","evt","target","value","URLSearchParams","i","length","breed","option","createElement","id","appendChild"],"version":3,"file":"index.e2cf1993.js.map"}