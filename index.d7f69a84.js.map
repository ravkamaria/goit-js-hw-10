{"mappings":"AAEO,MAAMA,EAAW,CACpBC,OAASC,SAASC,cAAc,iBAChCC,QAAUF,SAASC,cAAc,aACjCE,OAAQH,SAASC,cAAc,WAC/BG,MAAQJ,SAASC,cAAc,WC8BnC,SAASI,EAAgBC,GAIvB,OAHAR,EAASI,QAAQK,UAAY,GAC7BT,EAASK,OAAOK,UAAUC,QAAQ,gBAAiB,UACnDX,EAASM,MAAMI,UAAUC,QAAQ,QAAS,gBACnCC,MACL,wDAAwDJ,mFAEvDK,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBL,MAAKM,KAUV,SAAsBC,GAEpB,MAAMC,EAAMD,EAAI,GAAGC,IACbC,EAAcF,EAAI,GAAGG,OAAO,GAAGD,YAC/BE,EAAOJ,EAAI,GAAGG,OAAO,GAAGC,KACxBC,EAAcL,EAAI,GAAGG,OAAO,GAAGE,YAE/BC,EAAS,aAAaL,WAAaG,sDACKA,4DACGC,iCAC1BH,cAEvBtB,EAASI,QAAQuB,mBAAmB,YAAaD,E,CArB7CE,CAAaT,GACbnB,EAASK,OAAOK,UAAUC,QAAQ,SAAU,gBAAgB,IAE7DkB,OAAMC,IACL9B,EAASI,QAAQK,UAAY,GAC7BT,EAASM,MAAMI,UAAUC,QAAQ,eAAgB,QAAQ,G,CD9C/DX,EAASC,OAAO8B,iBAAiB,UAEjC,SAA4BC,GAG1BzB,EAFgByB,EAAIC,OAAOC,M,ICV7B,WACE,MAGMC,EAAS,IAAIC,gBAAgB,CACjC,YAFA,0EAKF,IAAIC,EAAe,GAGZzB,MAAM,uCAA2BuB,KACrCtB,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBL,MAAKM,IACJkB,EAAelB,EACf,IAAK,IAAImB,EAAI,EAAGA,EAAID,EAAaE,OAAQD,IAAK,CAC5C,IAAIE,EAAQH,EAAaC,GACrBG,EAASvC,SAASwC,cAAc,UACpCD,EAAOP,MAAQM,EAAMG,GACrBF,EAAOhC,UAAY,GAAG+B,EAAMhB,OAC5BxB,EAASC,OAAO2C,YAAYH,GAC5BzC,EAASK,OAAOK,UAAUC,QAAQ,SAAU,gB,KAG/CkB,OAAMC,IACL9B,EAASM,MAAMI,UAAUC,QAAQ,eAAgB,QAAQ,G,CDf/D","sources":["src/js/index.js","src/js/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nexport const elements = {\n    select : document.querySelector('.breed-select'),\n    catInfo : document.querySelector('.cat-info'),\n    loader: document.querySelector(\".loader\"),\n    error : document.querySelector(\".error\")\n};\n// elements.error.classList.add(\"error-hidden\");\nelements.select.addEventListener('change', hendlerChooseBreed);\n\nfunction hendlerChooseBreed(evt) {\n  let idOfBreed = evt.target.value;\n  \n  fetchCatByBreed(idOfBreed);\n}\n\nfetchBreeds();\n","import { elements } from './index';\n\nfunction fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1';\n  const API_KEY =\n    'live_Uedqd6mbrG08P2XhhOIDv14LHePtwKtKeKFm0DZ3BIclh3nQNBQNI9f5J7S8R8eR';\n  const params = new URLSearchParams({\n    'x-api-key': API_KEY,\n  });\n  const END_POINT = '/breeds';\n  let storedBreeds = [];\n  // elements.loader.classList.replace(\"loader-hidden\", \"loader\");\n  // elements.error.classList.replace(\"error\", \"error-hidden\");\n  return fetch(`${BASE_URL}${END_POINT}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      storedBreeds = data;\n      for (let i = 0; i < storedBreeds.length; i++) {\n        let breed = storedBreeds[i];\n        let option = document.createElement('option');\n        option.value = breed.id;\n        option.innerHTML = `${breed.name}`;\n        elements.select.appendChild(option);\n        elements.loader.classList.replace(\"loader\", \"loader-hidden\");\n      }\n    })\n    .catch(err => {\n      elements.error.classList.replace(\"error-hidden\", \"error\")\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  elements.catInfo.innerHTML = '';\n  elements.loader.classList.replace(\"loader-hidden\", \"loader\");\n  elements.error.classList.replace(\"error\", \"error-hidden\");\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=live_Uedqd6mbrG08P2XhhOIDv14LHePtwKtKeKFm0DZ3BIclh3nQNBQNI9f5J7S8R8eR`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      createMarkUp(data);\n      elements.loader.classList.replace(\"loader\", \"loader-hidden\");\n    })\n    .catch(err => {\n      elements.catInfo.innerHTML = '';\n      elements.error.classList.replace(\"error-hidden\", \"error\")\n    });\n}\n\nfunction createMarkUp(arr) {\n  \n  const url = arr[0].url;\n  const description = arr[0].breeds[0].description;\n  const name = arr[0].breeds[0].name;\n  const temperament = arr[0].breeds[0].temperament;\n  // const {description, name, temperament} = arr[0].breed[0];\n  const markup = `<img src=\"${url}\" alt=\"${name}\">\n  <div class=\"text-info\"><h2 class=\"cat-name\">${name}</h2>\n  <p class=\"cat-discr\"><span>Temperament:</span> ${temperament}</p>\n  <p class=\"cat-discr\">${description}</p></div>`;\n\n  elements.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n"],"names":["$85a5f86b715fe7db$export$7a5d735b2ab6389d","select","document","querySelector","catInfo","loader","error","$c4ebbd28ee7007ee$export$57b7d3a597416aa2","breedId","innerHTML","classList","replace","fetch","then","response","ok","Error","status","json","data","arr","url","description","breeds","name","temperament","markup","insertAdjacentHTML","$c4ebbd28ee7007ee$var$createMarkUp","catch","err","addEventListener","evt","target","value","params","URLSearchParams","storedBreeds","i","length","breed","option","createElement","id","appendChild"],"version":3,"file":"index.d7f69a84.js.map"}